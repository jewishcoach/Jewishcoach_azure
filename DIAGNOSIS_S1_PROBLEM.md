# 🔍 אבחון: למה המאמן מדלג על S2-S5?

## הבעיה שהמשתמש דיווח:

```
משתמש: "אני עכבר, מתחמק מעימותים..."
מאמן: "איך היית רוצה שהדברים יהיו?" ← קפץ ישר לרצוי!
```

**מה שהיה צריך לקרות:**
1. S1: נושא כללי
2. S2: "ספר על **פעם אחת** שהתחמקת"
3. S3: "מה הרגשת?"  
4. S4: "מה חשבת?"
5. S5: "מה עשית? מה רצית לעשות?"

---

## הבעיה המבנית:

### בפרומפט הקומפקטי (prompt_compact.py):

```python
**🎯 שלבי העמקה הנדרשים ב-S1:**

1. זיהוי ראשוני
2. הבהרת כוונה
3. **מצב כיום** ← 🚨 בעיה!
4. **מצב רצוי** ← 🚨 בעיה!
5. **זיהוי פער** ← 🚨 בעיה!
```

### הבלבול:

ה-LLM רואה שצריך לשאול:
- "איך המצב כיום?" (צעד 3)
- "איך רוצה?" (צעד 4)

ואז חושב: "סיימתי! יש לי מצוי + רצוי!"

**אבל זה לא נכון!** S1 צריך להיות רק על **הנושא הכללי**.

המצוי והרצוי **המפורטים** צריכים להגיע ב-S2-S5:
- S2: אירוע ספציפי אחד
- S3: רגשות באירוע
- S4: מחשבות באירוע
- S5: מעשה מצוי + רצוי **באותו אירוע**

---

## התוצאה:

ה-LLM מבולבל בין:
1. **S1 = תיאור כללי** ("איך זה בכלל?")
2. **S2-S5 = אירוע ספציפי** ("ספר על פעם אחת")

וקופץ ישר מ-S1 לשאלה של S5 (רצוי).

---

## הפתרון הנדרש:

### אופציה 1: הסר את צעדים 3-5 מ-S1

```diff
**שלבי העמקה ב-S1:**

1. זיהוי ראשוני: "על מה תרצה להתאמן?"
2. הבהרת כוונה: "למה מתכוון?"
- 3. מצב כיום: "איך המצב נראה כיום?"
- 4. מצב רצוי: "איך היית רוצה?"
- 5. זיהוי פער: "כמה גדול הפער?"
+ 
+ **🚀 אחרי נושא ברור → עבור מיד ל-S2!**
```

### אופציה 2: הבהר שזה לא מחליף S2-S5

```diff
3. מצב כללי כיום: "איך זה בכלל?" (לא מפורט!)
4. מצב כללי רצוי: "מה היית רוצה בכלל?" (לא מפורט!)

+ ⚠️ זה רק תיאור כללי!
+ המצוי והרצוי המפורטים יגיעו ב-S2-S5 על אירוע ספציפי!
```

### אופציה 3 (מומלצת): הפוך את S1 לפשוט יותר

```
S1 = רק נושא:
- "על מה תרצה להתאמן?"
- "ספר לי יותר"
- "מה בזה מעסיק אותך?"

אחרי 2-3 תורות עם נושא ברור → S2
```

---

## סיכום:

הבעיה: **בלבול בין S1 (כללי) ל-S2-S5 (ספציפי)**

הפתרון: **להפוך את S1 לפשוט - רק נושא, בלי מצוי/רצוי**
